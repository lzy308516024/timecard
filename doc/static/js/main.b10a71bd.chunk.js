(this.webpackJsonptimecard=this.webpackJsonptimecard||[]).push([[0],{169:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var l=a(10),n=a(0),s=a(36),c=a.n(s),o=(a(168),a(130)),i=a(154),r=a(131),h=a(132),u=a(159),m=a(155),d=a(79),g=a(299),j=a(300),b=a(301),O=a(297),v=a(298),x=a(45),p=a(296),f=(a(169),d.a.Option),D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDelete=function(e,t){var a=n.state.tableData.filter((function(t){return t.id!==e.id}));console.log(a);var l=a.reduce((function(e,t){return e+Number(t.time2)}),0);console.log(n.state.tableData.length);var s=l/(n.state.tableData.length-1);n.setState({tableData:a,total:l,average:s}),setTimeout((function(){var e=JSON.stringify(n.state.tableData),t=JSON.stringify(n.state.total),a=JSON.stringify(n.state.average);localStorage.setItem("myData",e),localStorage.setItem("localsum",t),localStorage.setItem("localave",a)}),0)},n.handleClick=function(){var e=(new Date).toLocaleDateString(),t=n.state.h1,a=n.state.h2,l=n.state.m1,s=n.state.m2;if(console.log(t,a),a-t<0)alert("\u7b7e\u9000\u65f6\u95f4\u8981\u5927\u4e8e\u7b7e\u5230\u65f6\u95f4");else if(a==t&&s<=l)alert("\u7b7e\u9000\u65f6\u95f4\u8981\u5927\u4e8e\u7b7e\u5230\u65f6\u95f4");else{var c=e+" "+t+":"+l+":00",o=new Date(e+" "+a+":"+s+":00").getTime()-new Date(c).getTime();o-=54e5,a>18?o-=24e5:18==a&&(o-=s>=40?24e5:6e4*s);Math.floor(o/864e5);var r=o%864e5,h=Math.floor(r/36e5),u=r%36e5,m=Math.floor(u/6e4),d=Number(m/60+h).toFixed(2),g={};g.date=n.state.curDate,g.id=Date.parse(new Date)+parseInt(1e5*Math.random()),g.signIn="".concat(t,":").concat(l),g.signOut="".concat(a,":").concat(s),g.time1="".concat(h,"\u5c0f\u65f6").concat(m,"\u5206\u949f"),g.time2="".concat(d);var j=n.state.tableData.reduce((function(e,t){return e+Number(t.time2)}),0);j=Number(j)+Number(d),console.log(n.state.tableData.length);var b=j/(n.state.tableData.length+1),O=n.state,v=O.tableData;O.average,O.total;n.setState({tableData:[].concat(Object(i.a)(v),[g]),total:j,average:b,h1:9,h2:20,m1:0,m2:0}),setTimeout((function(){console.log(n.state.tableData);var e=JSON.stringify(n.state.tableData);localStorage.setItem("myData",e);var t=JSON.stringify(n.state.total),a=JSON.stringify(n.state.average);localStorage.setItem("localsum",t),localStorage.setItem("localave",a)}),0)}},n.handleInput=function(e,t){console.log(e,t.target.value),n.setState(Object(o.a)({},e,t.target.value))},n.onChange=function(e,t){console.log(e,t);var a=new Date(t).getDay();console.log(typeof a);var l="";0==a?l=t+"(\u661f\u671f\u65e5)":1==a?l=t+"(\u661f\u671f\u4e00)":2==a?l=t+"(\u661f\u671f\u4e8c)":3==a?l=t+"(\u661f\u671f\u4e09)":4==a?l=t+"(\u661f\u671f\u56db)":5==a?l=t+"(\u661f\u671f\u4e94)":6==a&&(l=t+"(\u661f\u671f\u516d)"),n.setState({curDate:l}),setTimeout((function(){console.log(n.state.curDate)}),0)},n.selectOnChange=function(e){console.log(e),n.setState({h2:e})},n.onSearch=function(e){console.log("search:",e)},n.deletAll=function(){n.state.tableData.length>0&&(n.setState({tableData:[],total:0,average:0}),localStorage.removeItem("myData"),localStorage.removeItem("localsum"),localStorage.removeItem("localave"))},n.state={h1:8,h2:20,m1:45,m2:0,total:0,average:0,count:0,curDate:(new Date).toLocaleDateString(),columns:[{title:"\u65e5\u671f",dataIndex:"date",key:"date"},{title:"\u7b7e\u5230",dataIndex:"signIn",key:"signIn"},{title:"\u7b7e\u9000",dataIndex:"signOut",key:"signOut"},{title:"\u65f6\u957f\uff08\u5206\u949f\uff09",dataIndex:"time1",key:"time1"},{title:"\u65f6\u957f\uff08\u5c0f\u65f6\uff09",dataIndex:"time2",key:"time2"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return Object(l.jsx)(g.b,{size:"middle",children:Object(l.jsx)("a",{onClick:function(e){return n.handleDelete(t,e)},children:"Delete"})})}}],tableData:[]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("myData"),t=localStorage.getItem("localsum"),a=localStorage.getItem("localave");console.log(e),e&&(e=JSON.parse(e),t=JSON.parse(t),a=JSON.parse(a),this.setState({tableData:e,total:t,average:a}))}},{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{children:Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(j.a,{children:[Object(l.jsxs)(b.a,{span:8,className:"left-pd",children:[Object(l.jsxs)("div",{className:"top",children:[Object(l.jsxs)("div",{className:"ml-space",children:["\u8bf7\u9009\u62e9\u65e5\u671f:",Object(l.jsx)(g.b,{direction:"vertical",children:Object(l.jsx)(O.a,{onChange:this.onChange})})]}),Object(l.jsxs)("div",{children:["\u8bf7\u8f93\u5165\u7b7e\u5230\u65f6\u95f4\uff1a",Object(l.jsx)(v.a,{type:"Number",max:24,min:0,className:"single-input",value:this.state.h1,onChange:function(t){e.handleInput("h1",t)}}),":",Object(l.jsx)(v.a,{type:"Number",defaultValue:0,max:60,min:0,className:"single-input",value:this.state.m1,onChange:function(t){e.handleInput("m1",t)}})]})]}),Object(l.jsxs)("div",{children:["\u8bf7\u8f93\u5165\u7b7e\u9000\u65f6\u95f4\uff1a",Object(l.jsxs)(d.a,{className:"select-input",showSearch:!0,placeholder:"Select",onChange:this.selectOnChange,value:this.state.h2,onSearch:this.onSearch,optionFilterProp:"children",children:[Object(l.jsx)(f,{value:"17",children:"17"}),Object(l.jsx)(f,{value:"18",children:"18"}),Object(l.jsx)(f,{value:"19",children:"19"}),Object(l.jsx)(f,{value:"20",children:"20"}),Object(l.jsx)(f,{value:"21",children:"21"}),Object(l.jsx)(f,{value:"22",children:"22"}),Object(l.jsx)(f,{value:"23",children:"23"})]}),":",Object(l.jsx)(v.a,{type:"Number",defaultValue:0,max:60,min:0,className:"single-input",value:this.state.m2,onChange:function(t){e.handleInput("m2",t)}})," "]}),Object(l.jsx)(x.a,{type:"primary",size:"large",className:"btn",onClick:this.handleClick,children:"\u8ba1\u7b97"}),Object(l.jsxs)("ul",{style:{color:"red"},children:[Object(l.jsx)("li",{children:"\u6ce8\u610f\uff1a"}),Object(l.jsx)("li",{children:"1.\u7b7e\u5230\u65f6\u95f4\u65e9\u4e8e12\u70b9\uff0c\u7b7e\u9000\u65f6\u95f4\u665a\u4e8e18\u70b9"}),Object(l.jsx)("li",{children:"2.\u4e0d\u8981\u8f93\u5165\u8d1f\u6570\u4ee5\u53ca\u5176\u4ed6\u6570\u5b57\u4ee5\u5916\u7684\u5b57\u7b26"})]})]}),Object(l.jsxs)(b.a,{span:16,children:[Object(l.jsx)(p.a,{className:"top bottom",columns:this.state.columns,dataSource:this.state.tableData,rowKey:function(e){return e.id+Date.now()},pagination:!1}),Object(l.jsxs)("span",{className:"ml-3",children:["\u5171",this.state.tableData.length,"\u6761\u6570\u636e"]})," ",Object(l.jsx)(g.b,{}),Object(l.jsxs)("span",{className:"ml-3",children:["\u5171\u8ba1",this.state.total,"\u4e2a\u5c0f\u65f6"]}),Object(l.jsxs)("span",{children:["\u5e73\u5747\u65f6\u957f\u4e3a",this.state.average,"\u5c0f\u65f6"]}),Object(l.jsx)("span",{style:{float:"right",marginRight:"100px"},children:Object(l.jsx)(x.a,{type:"primary",onClick:this.deletAll,danger:!0,children:"\u5168\u90e8\u5220\u9664"})})]})]})})})}}]),a}(n.Component);c.a.render(Object(l.jsx)(D,{}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.b10a71bd.chunk.js.map